# 快速测试清单

## 🧪 5分钟快速测试

### 1. 多会话上下文隔离 (1分钟)

```
✅ 步骤：
1. 创建会话A，发送："我叫张三"
2. 创建会话B，发送："我叫什么？"
3. 切换回会话A，发送："我叫什么？"

✅ 预期：
- 会话B：AI不知道名字
- 会话A：AI回答"张三"
```

### 2. 刷新不创建新会话 (30秒)

```
✅ 步骤：
1. 记录当前会话数量
2. 按F5刷新页面
3. 再次刷新

✅ 预期：
- 会话数量不变
- 不创建新会话
```

### 3. 标题自动生成 (1分钟)

```
✅ 步骤：
1. 点击"+ 新对话"
2. 发送："什么是React？"
3. 观察左侧会话列表

✅ 预期：
- 标题变为"什么是React？"
- 长标题会截断加"..."
```

### 4. 标题编辑 (1分钟)

```
✅ 步骤：
1. 双击任意会话标题
2. 修改为"测试标题"
3. 按Enter保存

✅ 预期：
- 显示输入框
- 保存后标题更新
- 刷新后标题保持
```

### 5. 删除确认对话框 (30秒)

```
✅ 步骤：
1. 点击会话的删除按钮（×）
2. 观察对话框
3. 点击"取消"
4. 再次删除，点击"确定"

✅ 预期：
- 显示美观的确认对话框
- 取消后不删除
- 确定后删除成功
```

---

## 🎯 关键功能验证

### ✅ 会话管理
- [ ] 创建新会话
- [ ] 切换会话
- [ ] 编辑标题
- [ ] 删除会话
- [ ] 刷新保持会话

### ✅ 对话功能
- [ ] 发送消息
- [ ] 接收AI回复
- [ ] 流式显示
- [ ] 消息保存
- [ ] 上下文隔离

### ✅ UI交互
- [ ] 标题自动生成
- [ ] 双击编辑标题
- [ ] 点击编辑按钮
- [ ] 删除确认对话框
- [ ] 悬停显示按钮

---

## 🐛 常见问题检查

### 问题1：刷新后创建新会话
**检查**：
- 打开浏览器控制台
- 查看localStorage是否有`conversationsLoaded`
- 如果没有，说明标记未保存

**解决**：
- 清除浏览器缓存
- 重新登录

### 问题2：标题没有自动生成
**检查**：
- 是否是第一条消息
- 浏览器控制台是否有错误
- Network标签查看API请求

**解决**：
- 确保后端API正常
- 检查token是否有效

### 问题3：编辑标题失败
**检查**：
- 是否按了Enter保存
- 浏览器控制台是否有错误
- Network标签查看PUT请求

**解决**：
- 确保后端API正常
- 检查权限

### 问题4：删除对话框不显示
**检查**：
- 浏览器控制台是否有错误
- ConfirmDialog组件是否正确导入

**解决**：
- 检查文件路径
- 重启开发服务器

### 问题5：上下文混淆
**检查**：
- conversationId是否正确传递
- Redis缓存key是否正确

**解决**：
- 清除Redis缓存
- 重启后端服务

---

## 📊 性能检查

### 响应时间
- [ ] 创建会话 < 500ms
- [ ] 切换会话 < 200ms
- [ ] 发送消息 < 100ms
- [ ] 编辑标题 < 300ms
- [ ] 删除会话 < 300ms

### 内存使用
- [ ] 打开页面 < 50MB
- [ ] 10个会话 < 100MB
- [ ] 长时间使用无明显增长

---

## ✨ 用户体验检查

### 视觉效果
- [ ] 编辑按钮悬停显示
- [ ] 删除对话框动画流畅
- [ ] 标题截断显示省略号
- [ ] 活动会话高亮显示

### 交互反馈
- [ ] 点击有响应
- [ ] 悬停有提示
- [ ] 操作有确认
- [ ] 错误有提示

### 易用性
- [ ] 双击即可编辑
- [ ] Enter保存，Escape取消
- [ ] 删除有二次确认
- [ ] 标题自动生成

---

## 🚀 快速验证命令

### 浏览器控制台
```javascript
// 检查localStorage
console.log(localStorage.getItem('conversationsLoaded'));

// 检查token
console.log(localStorage.getItem('token'));

// 检查用户信息
console.log(localStorage.getItem('userInfo'));
```

### Network标签
```
查看以下请求：
- GET /api/conversation/list
- POST /api/conversation/create
- PUT /api/conversation/{id}/title
- DELETE /api/conversation/{id}
- GET /api/chat/stream
```

---

## ✅ 测试通过标准

### 必须通过
- [x] 所有5个快速测试通过
- [x] 无JavaScript错误
- [x] 无网络错误
- [x] 无UI显示问题

### 建议通过
- [ ] 性能指标达标
- [ ] 用户体验良好
- [ ] 无明显bug

---

## 📝 测试报告模板

```
测试时间：____年__月__日 __:__
测试人员：________
浏览器：Chrome / Firefox / Safari / Edge
版本：________

测试结果：
1. 多会话上下文隔离：✅ / ❌
2. 刷新不创建新会话：✅ / ❌
3. 标题自动生成：✅ / ❌
4. 标题编辑：✅ / ❌
5. 删除确认对话框：✅ / ❌

发现问题：
1. ________________
2. ________________

建议改进：
1. ________________
2. ________________

总体评价：优秀 / 良好 / 一般 / 需改进
```

---

**测试愉快！** 🎉
